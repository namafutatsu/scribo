<sd-login *ngIf="!auth.loggedIn; else logged"></sd-login>
<ng-template #logged>
  <sd-toast [message]="toast.message"></sd-toast>

  <sd-loading [condition]="isLoading"></sd-loading>

  <sd-explorer [className]="explorerClasses[explorerClass]"
    [project]="project" *ngIf="project"
    (toggling)="onToggling($event)"
    (fileSelected)="onFileSelected($event)"
    (folderSelected)="onFolderSelected($event)"
    (saving)="onSaving($event)"></sd-explorer>

  <sd-actionbar *ngIf="project"
    (saving)="onSaving($event)"
    (actionbarToggling)="onActionbarToggling($event)"
    [exporter]="exporter"></sd-actionbar>

  <sd-editor [file]="file" *ngIf="file"
    (saving)="onSaving($event)"
    [className]="editorClasses[editorClass]"></sd-editor>

  <div id="annexe" *ngIf="file">
    <div id="notes" *ngIf="file.notes?.length > 0">
      Todo:
      <li *ngFor="let note of file.notes" [class.cancelled]="note.status < 0">
        <i class="fa fa-check-square-o" aria-hidden="true" *ngIf="note.status == 1" (click)="clickNote(note)"></i>
        <i class="fa fa-square-o" aria-hidden="true" *ngIf="note.status == 0" (click)="clickNote(note)"></i>
        <i class="fa fa-times" aria-hidden="true" *ngIf="note.status == -1" (click)="clickNote(note)"></i>
        <input [(ngModel)]="note.text"  [class.cancelled]="note.status < 0"/>
        <!--<div *ngIf="note.status < 0">{{node.text}}</div>-->
      </li>
    </div>
  </div>

  <sd-exporter #exporter [project]="project" [projectService]="projectService"></sd-exporter>

</ng-template>
