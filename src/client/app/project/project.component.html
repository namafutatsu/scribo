<sd-login *ngIf="!auth.loggedIn; else logged"></sd-login>
<ng-template #logged>
  <sd-toast [message]="toast.message"></sd-toast>
  <mat-sidenav-container>

    <mat-sidenav mode="side"
      [(opened)]="showActionBar"
      [disableClose]="true"
      class="actionbar-sidenav">

      <sd-actionbar *ngIf="project"
        [exporter]="exporter"
        (saving)="onSaving($event)"
        (actionbarToggling)="onActionbarToggling($event)">
      </sd-actionbar>

    </mat-sidenav>

    <mat-sidenav-content>
      
      <mat-sidenav-container>

        <mat-sidenav mode="side"
          [disableClose]="true"
          [(opened)]="showPanel"
          class="explorer-sidenav">

          <sd-explorer *ngIf="project"
            [project]="project"
            (fileSelected)="onFileSelected($event)"
            (folderSelected)="onFolderSelected($event)"
            (saving)="onSaving($event)">
          </sd-explorer>

        </mat-sidenav>
        <mat-sidenav-content  class="editor-content">

            <sd-loading [condition]="isLoading"></sd-loading>

            <sd-editor *ngIf="file"
              [file]="file"
              (saving)="onSaving($event)"
              (changed)="onContentChanged($event)">
            </sd-editor>

        </mat-sidenav-content>
      
      </mat-sidenav-container>

    </mat-sidenav-content>
  </mat-sidenav-container>

  <!-- <div id="annexe" *ngIf="file">
    <div id="notes" *ngIf="file.notes?.length > 0">
      Todo:
      <li *ngFor="let note of file.notes" [class.cancelled]="note.status < 0">
        <i class="fa fa-check-square-o" aria-hidden="true" *ngIf="note.status == 1" (click)="clickNote(note)"></i>
        <i class="fa fa-square-o" aria-hidden="true" *ngIf="note.status == 0" (click)="clickNote(note)"></i>
        <i class="fa fa-times" aria-hidden="true" *ngIf="note.status == -1" (click)="clickNote(note)"></i>
        <input [(ngModel)]="note.Text"  [class.cancelled]="note.status < 0"/>
      </li>
    </div>
  </div>
  
  <sd-exporter #exporter [project]="project" [projectService]="projectService"></sd-exporter> -->
  
</ng-template>
  