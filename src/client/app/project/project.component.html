<sd-login *ngIf="!auth.loggedIn; else logged"></sd-login>
<ng-template #logged>
  <sd-toast [message]="toast.message"></sd-toast>

  <sd-loading [condition]="isLoading"></sd-loading>

<md-sidenav-container class="example-sidenav-fab-container">

  <md-sidenav #sidenav mode="side" opened="true">
    <!-- <button md-mini-fab class="example-fab" (click)="sidenav.toggle()">
      <md-icon>add</md-icon>
    </button> -->
    <sd-explorer [project]="project" *ngIf="project"
      (onFileSelected)="onFileSelected($event)"
      (onFolderSelected)="onFolderSelected($event)"
      (onSaving)="onSaving($event)"></sd-explorer>
  </md-sidenav>

    <button class="toggler" (click)="sidenav.toggle()" *ngIf="project">
      <i class="fa fa-caret-square-o-left" *ngIf="sidenav._opened"></i>
      <i class="fa fa-caret-square-o-right" *ngIf="!sidenav._opened"></i>
       <!-- aria-hidden="true" -->
    </button>

 <sd-editor [file]="file" *ngIf="file"
    (onSaving)="onSaving($event)"></sd-editor>

</md-sidenav-container>

  <div id="annexe" *ngIf="file">
    <div id="notes" *ngIf="file.notes?.length > 0">
      Todo:
      <li *ngFor="let note of file.notes" [class.cancelled]="note.status < 0">
        <i class="fa fa-check-square-o" aria-hidden="true" *ngIf="note.status == 1" (click)="clickNote(note)"></i>
        <i class="fa fa-square-o" aria-hidden="true" *ngIf="note.status == 0" (click)="clickNote(note)"></i>
        <i class="fa fa-times" aria-hidden="true" *ngIf="note.status == -1" (click)="clickNote(note)"></i>
        <input [(ngModel)]="note.text"  [class.cancelled]="note.status < 0"/>
        <!--<div *ngIf="note.status < 0">{{node.text}}</div>-->
      </li>
    </div>
  </div>
</ng-template>
